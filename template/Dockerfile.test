# Use .NET 8 SDK image
FROM mcr.microsoft.com/dotnet/sdk:8.0

# Set working directory
WORKDIR /app

# Copy your entire template/project into the container
COPY . .

# Restore dependencies
RUN dotnet restore

# Build all projects
RUN dotnet build --no-restore

# Default command: run tests
CMD ["dotnet", "test", "--no-build"]
